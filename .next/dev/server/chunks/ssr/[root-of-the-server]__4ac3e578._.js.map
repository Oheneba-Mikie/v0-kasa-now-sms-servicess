{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/awx1463934/Desktop/CODES/Kasanow/v0-kasa-now-sms-servicess/lib/supabase.ts"],"sourcesContent":["\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)\r\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uLAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/awx1463934/Desktop/CODES/Kasanow/v0-kasa-now-sms-servicess/lib/email.ts"],"sourcesContent":["\r\nimport { Resend } from 'resend'\r\n\r\n// Initialize Resend\r\nconst resend = new Resend(process.env.RESEND_API_KEY)\r\n\r\nexport async function sendWelcomeEmail(email: string) {\r\n    try {\r\n        const { data, error } = await resend.emails.send({\r\n            from: 'KasaNow <hello@kasanow.app>',\r\n            to: email,\r\n            subject: 'Welcome to KasaNow Waitlist! üöÄ',\r\n            html: `\r\n        <div style=\"font-family: sans-serif; color: #1a1a1a; max-width: 600px; margin: 0 auto; line-height: 1.6;\">\r\n            <div style=\"text-align: center; padding: 24px 0;\">\r\n              <h1 style=\"color: #3A57FC; margin-bottom: 8px;\">Welcome to KasaNow!</h1>\r\n              <p style=\"font-size: 18px; color: #666;\">You're on the list. üöÄ</p>\r\n            </div>\r\n\r\n            <div style=\"background-color: #ffffff; padding: 32px; border-radius: 12px; border: 1px solid #e5e7eb;\">\r\n              <p style=\"font-size: 16px;\">Hi there,</p>\r\n              <p style=\"font-size: 16px;\">Thanks for joining the waitlist! We are getting ready to launch very soon, and we can't wait to show you what we've been building.</p>\r\n              \r\n              <h2 style=\"color: #333; margin-top: 32px;\">Why KasaNow?</h2>\r\n              <div style=\"margin-bottom: 24px;\">\r\n                <p><strong>üîë  No API Keys needed</strong></p>\r\n                <p style=\"color: #555; margin-top: -12px; margin-bottom: 16px;\">Start sending SMS campaigns instantly without complex technical setup.</p>\r\n                \r\n                <p><strong>‚ö°  Instant Setup</strong></p>\r\n                <p style=\"color: #555; margin-top: -12px; margin-bottom: 16px;\">Create an account and launch your first campaign in minutes.</p>\r\n                \r\n                <p><strong>üåç  Global Reach</strong></p>\r\n                <p style=\"color: #555; margin-top: -12px; margin-bottom: 16px;\">Connect with customers anywhere in the world efficiently.</p>\r\n              </div>\r\n\r\n              <h2 style=\"color: #333; margin-top: 32px;\">What to Expect Next</h2>\r\n              <ul style=\"color: #555; padding-left: 20px;\">\r\n                <li>We‚Äôll notify you the moment we go live.</li>\r\n                <li>As an early member, you‚Äôll get exclusive access to new features.</li>\r\n                <li>Special onboarding support to help you get started.</li>\r\n              </ul>\r\n\r\n              <div style=\"margin-top: 40px; border-top: 1px solid #e5e7eb; padding-top: 24px; text-align: center;\">\r\n                <p style=\"color: #888; font-size: 14px;\">We are thrilled to have you with us on this journey.</p>\r\n                <p style=\"color: #3A57FC; font-weight: bold;\">- The KasaNow Team</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div style=\"text-align: center; margin-top: 24px; color: #999; font-size: 12px;\">\r\n              <p>¬© 2025 KasaNow Ltd. All rights reserved.</p>\r\n            </div>\r\n          </div>\r\n      `,\r\n        })\r\n\r\n        if (error) {\r\n            console.error('Email sending error:', error)\r\n            return { success: false, error }\r\n        }\r\n\r\n        return { success: true, data }\r\n    } catch (error) {\r\n        console.error('Email sending exception:', error)\r\n        return { success: false, error }\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AACA;;AAEA,oBAAoB;AACpB,MAAM,SAAS,IAAI,kJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAE7C,eAAe,iBAAiB,KAAa;IAChD,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YAC7C,MAAM;YACN,IAAI;YACJ,SAAS;YACT,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAwCb,CAAC;QACC;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;gBAAE,SAAS;gBAAO;YAAM;QACnC;QAEA,OAAO;YAAE,SAAS;YAAM;QAAK;IACjC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;YAAE,SAAS;YAAO;QAAM;IACnC;AACJ"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/awx1463934/Desktop/CODES/Kasanow/v0-kasa-now-sms-servicess/app/actions/join-waitlist.ts"],"sourcesContent":["'use server'\r\n\r\nimport { supabase } from '@/lib/supabase'\r\nimport { Resend } from 'resend'\r\nimport { sendWelcomeEmail } from '@/lib/email'\r\n\r\n// Initialize Resend with key from env\r\nconst resend = new Resend(process.env.RESEND_API_KEY)\r\n\r\nexport async function joinWaitlist(email: string) {\r\n    try {\r\n        // 1. Validate input (basic check, could use zod)\r\n        if (!email || !email.includes('@')) {\r\n            return { success: false, message: 'Invalid email address' }\r\n        }\r\n\r\n        // 2. Insert into Supabase\r\n        const { error: dbError } = await supabase\r\n            .from('waitlist')\r\n            .insert([{ email, status: 'pending' }])\r\n\r\n        if (dbError) {\r\n            // Handle duplicate email specifically if possible\r\n            if (dbError.code === '23505') { // Postgres unique violation code\r\n                return { success: true, message: 'You are already on the waitlist!' }\r\n            }\r\n            console.error('Database error:', dbError)\r\n            return { success: false, message: 'Failed to join waitlist. Please try again.' }\r\n        }\r\n\r\n        // 3. Send Email via Resend\r\n        // Note: We wrap this in try/catch to not fail the whole request if email fails, \r\n        // but ideally we want both to succeed.\r\n        try {\r\n            await sendWelcomeEmail(email)\r\n        } catch (e) {\r\n            console.error('Email sending failed:', e)\r\n        }\r\n\r\n        return { success: true, message: 'Successfully joined the waitlist!' }\r\n\r\n    } catch (err) {\r\n        console.error('Unexpected error:', err)\r\n        return { success: false, message: 'An unexpected error occurred.' }\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;AAEA,sCAAsC;AACtC,MAAM,SAAS,IAAI,kJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAE7C,eAAe,aAAa,KAAa;IAC5C,IAAI;QACA,iDAAiD;QACjD,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,CAAC,MAAM;YAChC,OAAO;gBAAE,SAAS;gBAAO,SAAS;YAAwB;QAC9D;QAEA,0BAA0B;QAC1B,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,2HAAQ,CACpC,IAAI,CAAC,YACL,MAAM,CAAC;YAAC;gBAAE;gBAAO,QAAQ;YAAU;SAAE;QAE1C,IAAI,SAAS;YACT,kDAAkD;YAClD,IAAI,QAAQ,IAAI,KAAK,SAAS;gBAC1B,OAAO;oBAAE,SAAS;oBAAM,SAAS;gBAAmC;YACxE;YACA,QAAQ,KAAK,CAAC,mBAAmB;YACjC,OAAO;gBAAE,SAAS;gBAAO,SAAS;YAA6C;QACnF;QAEA,2BAA2B;QAC3B,iFAAiF;QACjF,uCAAuC;QACvC,IAAI;YACA,MAAM,IAAA,gIAAgB,EAAC;QAC3B,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,yBAAyB;QAC3C;QAEA,OAAO;YAAE,SAAS;YAAM,SAAS;QAAoC;IAEzE,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO;YAAE,SAAS;YAAO,SAAS;QAAgC;IACtE;AACJ;;;IApCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/awx1463934/Desktop/CODES/Kasanow/v0-kasa-now-sms-servicess/.next-internal/server/app/waitlist/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {joinWaitlist as '40807be106533d4006da9c4d8ad09ed86b97d8116a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}